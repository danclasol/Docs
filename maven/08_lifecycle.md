# Lifecycles

Maven is based around the central concept of a build lifecycle.

Lifecycle is the process for building and distributing a particular artifact (project) is clearly defined.

For the person building a project, this means that it is only necessary to learn a small set of commands to build any Maven project, and the _POM_ will ensure they get the results they desired.

Each lifecycle consists of a sequence of phases. 

There are three built-in lifecycles:

- clean: handles project cleaning
- default: handles your project deployment
- site: handles the creation of your project's web site.

# Phase

A Maven phase represents a stage in the Maven build lifecycle. 

Each phase is responsible for a specific task.

## Most important Phases

Most important phases in each lifecycle builds.

### Clean phases

Used to remove previously generated files.

#### `pre-clean`

Execute processes needed prior to the actual project cleaning.

#### `clean`

Remove all files generated by the previous build.

- remove _target_ folder

#### `post-clean`

Execute processes needed to finalize the project cleaning.


### Default phases

List of most common default lifecycle phases executed.

Handles project build and deployment

#### `validate`

Checks if the project is correct and all necessary info is available

#### `compile`

Compiles the source code of the project

- compile files will be place in _target_

#### `test`

Runs the unit tests using a suitable testing framework.

These tests should not require the code be packaged or deployed.

#### `integration-test`

Process and deploy the package if necessary into an environment where integration tests can be run.

#### `package`

Takes the compiled code and package it in its distributable format.

Creates the `JAR` or `WAR` file.

#### `verify`

Runs checks to verify the package is valid and meets quality criteria.

#### `install`

Installs the package into the local Maven repository, for use as a dependency in other project locally.
- copy to `~/.m2/repository`

#### `deploy`

Copies the final package to a remote repository for sharing with others
- done in the integration or release enviroment

### Site phases

#### `pre-site`

Execute processes needed prior to the actual project site generation

#### `site`

Generate the project's site documentation

#### `post-site`

Execute processes needed to finalize the site generation, and to prepare for site deployment

#### `site-deploy`

Deploy the generated site documentation to the specified web server


## Executin phases

Phases can be executed with the command `mvn`

When you run a phase, Maven runs ALL phases before it automatically.

So running the `package` phase will actually executed 

- validate
- compile
- test
- package

```sh
mvn package
```

